<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>首页-到位--jQuery-</title>
  <link rel="stylesheet" href="https://at.alicdn.com/t/font_724723_nacjspgeg48.css">
  <link rel="stylesheet" href="css/reset.css">
  <link rel="stylesheet" href="css/built.min.css">
  <script type="text/javascript" src="js/jquery-1.10.1.js"></script>
  <script type="text/javascript" src="js/built.min.js"></script>
  <script type="text/javascript" src="js/jquery.slideBox.js"></script>
  <link rel="stylesheet" href="css/jquery.slideBox.css">
</head>
<body>
<div id="app">
  <!--头部导航-->
  <div class="header">
    <div class="header_nav">
        <div class="header_left">
          <div class="header_img">
            <a href="index.html">
              <img src="./images/logo.png" alt="">
            </a>
          </div>
        </div>
        <div class="header_right">
          <ul class="header_right_font">
            <li>
              <a href="javascript:;">
                <span>
                  <i class="iconfont icon-dizhiguanli" style="color:red"></i>
                  <span style="color:#000">上海</span>
                  <span>&nbsp;切换城市</span>
                </span>
              </a>
            </li>
            <li>
              <a href="###" class="active">首页</a>
            </li>
            <li>
              <a href="###">到位APP</a>
            </li>
            <li>
              <a href="service.html">服务商</a>
            </li>
            <li>
              <a href="###">商家入驻</a>
            </li>
            <li>
              <a href="###">关于我们</a>
            </li>
            <li class="last_bg_red">
              <a href="###">商家登录</a>
            </li>
          </ul>
        </div>
    </div>
  </div>
  <!--轮播图-->
  <div class="lunbotu">
    <div id="demo1" class="slideBox">
      <ul class="items">
        <li><a href="javascript:;" ><img src="images/banner1.jpg"></a></li>
        <li><a href="javascript:;" ><img src="images/banner2.jpg"></a></li>
        <li><a href="javascript:;" ><img src="images/banner3.jpg"></a></li>
      </ul>
    </div>
    <div class="luobotu_mask">
      <!--左侧头部切换-->
      <div class="left">
        <ul class="left_ul">
        </ul>
      </div>
    </div>
  </div>
  <!--详情-->
  <!--家庭保洁-->
  <div class="detail">
  </div>

  <!--底部-->
<div class="footer">
  <div class="footer_top">
    <div class="baozhang_header">
      <div class="fuwu">
        <h2>
          <span>到位</span>
          <span class="red">服务</span>
          <span>保障</span>
        </h2>
      </div>
      <div class="jiaoyi">到位平台担保交易安全，交易未成功100%退款</div>
      <div class="miaoshu">
        <div class="item">
          <i class="iconfont icon-duigou"></i>
          <span>优选服务</span>
        </div>
        <div class="item">
          <i class="iconfont icon-duigou"></i>
          <span>优选服务</span>
        </div>
        <div class="item">
          <i class="iconfont icon-duigou"></i>
          <span>优选服务</span>
        </div>
      </div>
    </div>
    <div class="footer_bottom">
     <div class="city">

     </div>
    </div>
  </div>
  <div class="hezuo">
    <div class="hezuo_title">合作伙伴</div>
    <div class="small_icon">
      <div class="icon"><a href=""><img src="images/jujia.jpg" alt=""></a></div>
      <div class="icon"><a href=""><img src="images/jujia.jpg" alt=""></a></div>
      <div class="icon"><a href=""><img src="images/jujia.jpg" alt=""></a></div>
      <div class="icon"><a href=""><img src="images/jujia.jpg" alt=""></a></div>
      <div class="icon"><a href=""><img src="images/jujia.jpg" alt=""></a></div>
      <div class="icon"><a href=""><img src="images/jujia.jpg" alt=""></a></div>
      <div class="icon"><a href=""><img src="images/jujia.jpg" alt=""></a></div>
      <div class="icon"><a href=""><img src="images/jujia.jpg" alt=""></a></div>
      <div class="icon"><a href=""><img src="images/jujia.jpg" alt=""></a></div>
      <div class="icon"><a href=""><img src="images/jujia.jpg" alt=""></a></div>
      <div class="icon"><a href=""><img src="images/jujia.jpg" alt=""></a></div>
      <div class="icon"><a href=""><img src="images/jujia.jpg" alt=""></a></div>
      <div class="icon"><a href=""><img src="images/jujia.jpg" alt=""></a></div>
      <div class="icon"><a href=""><img src="images/jujia.jpg" alt=""></a></div>
      <div class="icon"><a href=""><img src="images/jujia.jpg" alt=""></a></div>
      <div class="icon"><a href=""><img src="images/jujia.jpg" alt=""></a></div>
      <div class="icon"><a href=""><img src="images/jujia.jpg" alt=""></a></div>
      <div class="icon"><a href=""><img src="images/jujia.jpg" alt=""></a></div>
    </div>
    <div class="banquan">
      <p>©2015 版权所有 到位 daoway.com 京ICP备15001471号-1 北京邻家科技有限公司</p>
    </div>
  </div>
</div>

</div>
</body>

<script type="text/javascript" src="js/template.js"></script>
<!--导航-->
<script id="left_nav" type="text/html">
{{each data}}
<li>
  <a href="javascript:;">{{$value.serviceIndex}}</a>
  <i class="iconfont icon-jiantouyou"></i>
  <!--小三角-->
  <span class="sanjiao"></span>
  <!--右侧内容区-->
  <ul class="right_ul">
    {{each $value.serviceType}}
    <li><a href="javascript:;">{{$value}}</a></li>
    {{/each}}
  </ul>
</li>
  
{{/each}}  
</script>
<!--详情-->
<script id="detail" type="text/html">
{{each data}}
<div class="home">
  <div class="home_wrapper">
    <div class="title">{{$value.serviceIndex}}</div>
    <div class="info">
       <div class="info_inner">
         <ul class="info_ul">
           {{each $value.serviceType}}
           <li><a href="javascript:;">{{$value}}</a></li>
           {{/each}}
         </ul>
       </div>
      <div class="last_gengduo"><a href="javascript:;">更多服务</a></div>
    </div>
  </div>
  <div class="home_imgwrapper">
    {{each $value.shopList as tag i}}
    <div class="img_wrapper">
      <div class="padding_box">
        <div class="img">
          <img src={{tag.imgUrl}} alt="">
        </div>
        <div class="img_title">
          {{tag.serviceName}}
        </div>
        <div class="img_info">
          {{tag.description}}
        </div>
        <div class="img_price">
          <span class="font_red">{{tag.price}}/小时</span>
          <span class="font_white">查看详情</span>
        </div>
      </div>
    </div>
    {{/each}}
  </div>
  <div class="text_wrap">
    <div class="home_text">
      <a href="javascript:;">云家政</a>
      <a href="javascript:;">云家政</a>
      <a href="javascript:;">云家政</a>
      <a href="javascript:;">云家政</a>
      <a href="javascript:;">云家政</a>
      <a href="javascript:;">云家政</a>
      <a href="javascript:;">云家政</a>
      <a href="javascript:;">云家政</a>
      <a href="javascript:;">云家政</a>
      <a href="javascript:;">云家政</a>
      <a href="javascript:;">云家政</a>
      <a href="javascript:;">云家政</a>
      <a href="javascript:;">云家政</a>
    </div>
  </div>
</div>

{{/each}}
</script>
<!--热门城市-->
<script id="city_wrap"    type="text/html">
  <div class="remen_city">
    <span>热门城市</span>
  </div>
  <div class="list">
    <ul class="city_ul">
      {{each data}}
        {{each $value.hotCity}}
      <li><a href="javascript:;">{{$value}}</a></li>
        {{/each}}
      {{/each}}
    </ul>
  </div>
</script>
<script type="text/javascript">
  $(function () {
    //方式一轮播
    $('#demo1').slideBox({
      direction:'left',
      duration:1,
      easing: 'swing',//swing,linear
      delay: 3,//unit:seconds
      startIndex: 0,
      hideClickBar: false,
      clickBarRadius: 50,//unit:px
      hideBottomBar: true,
    });
    $.get('http://localhost:4000/index',function (data) {
      $('.left_ul').html(template('left_nav',{data:data}))
      $('.detail').html(template('detail',{data:data}))
     // console.log(data);
    })
    $.get('http://localhost:4000/city',function (data) {
      $('.city').html(template('city_wrap',{data:data}))
     // console.log(data);
    })
      //头部标题切换，find找到所有的子元素,动态添加再删除
    var $ul=$('.header_right_font')
        console.log($ul);
    //中间是直接写子元素，不用再一层一层找子元素
        $ul.on('click','li',function () {
          console.log($ul.find("a"))
          $ul.find("a").removeClass("active")
         // $(this).removeClass('active')
         $(this).find("a").addClass("active")

        })

  })
</script>
</html>